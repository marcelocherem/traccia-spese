<section id="family">
  <div class="title">
    <h2 class="title-name">Entrate</h2>
    <button class="new-spese plus-btn"></button>
  </div>

  <% family.forEach(item=> { %>
    <div class="entry entry-family" data-id="<%= item.id %>">
      <div class="icon-circle">
        <img src="/images/family.svg" alt="" class="icon">
      </div>
      <div class="income-text">
        <h2 class="expense-name">
          <%= item.name %>
        </h2>
        <h2 class="expense-value">
          <%= item.value.toFixed(2) %> €
        </h2>
      </div>
      <div class="actions">
        <button class="edit-btn" data-id="<%= item.id %>" data-name="<%= item.name %>" data-value="<%= item.value %>"
          data-date="<%= item.date_created ? item.date_created.toISOString().split('T')[0] : '' %>">
          <img class="icon-edit" src="images/edit.svg" alt="">
        </button>

        <form action="/delete-family/<%= item.id %>" method="POST" class="delete-form" style="display:inline;">
          <button type="submit" class="delete-btn">
            <img class="icon-edit" src="images/delete.svg" alt="">
          </button>
        </form>
      </div>
    </div>
    <% }) %>

      <div class="line"></div>
      <div class="entry total entry-bills">
        <div class="income-text">
          <h2 class="expense-name">TOTALE</h2>
          <h2 class="expense-value">
            <%= total.toFixed(2) %> €
          </h2>
        </div>
      </div>
      <!-- adding stuff -->
      <div class="container-plus-btn hidden">
        <div class="container">
          <form action="/add-family" method="POST" class="form-family">
            <label for="name">Nome</label>
            <input type="text" name="name" placeholder="Scrive il nome" required>
            <label for="value">Valore</label>
            <input type="number" name="value" step="0.01" placeholder="Scrive il valore (€)" required>
            <label for="date">Data Mensile</label>
            <input type="date" name="date_created" required>
            <button type="submit" class="submit-btn">Aggiungi</button>
          </form>
        </div>
      </div>

      <!-- Edit family -->
      <div class="container-edit-btn hidden">
        <div class="container">
          <form id="edit-family-form" method="POST" class="form-family">
            <label for="edit-name">Nome</label>
            <input type="text" name="name" id="edit-name" required>
            <label for="edit-value">Valore</label>
            <input type="number" name="value" step="0.01" id="edit-value" required>
            <label for="date">Data Mensile</label>
            <input type="date" name="date_created" min="0" max="31" id="edit-date" required>
            <div class="btn-container">
              <button type="button"
                onclick="document.querySelector('.container-edit-btn').classList.add('hidden')">Annulla</button>
              <button type="submit" class="submit-btn">Salva</button>
            </div>
          </form>
        </div>
      </div>
</section>